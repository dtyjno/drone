[0.014s] Invoking command in '/home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/build/px4_ros_com': CMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH}:/opt/ros/jazzy CONDA_PROMPT_MODIFIER=(base) DEBUGINFOD_URLS=https://debuginfod.ubuntu.com /usr/bin/cmake --build /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/build/px4_ros_com -- -j32 -l32
[0.103s] [  7%] Built target gtest_main
[0.103s] [  7%] Built target gtest
[0.111s] [ 11%] Built target frame_transforms
[0.116s] [ 15%] Built target pose_subscriber
[0.121s] [ 19%] Built target px4_ros_com_tutorial_test
[0.250s] [ 21%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/APMROS2Drone.cpp.o
[0.251s] [ 23%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/DolandState.cpp.o
[0.251s] [ 25%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/DoshotState.cpp.o
[0.251s] [ 26%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/EndState.cpp.o
[0.252s] [ 28%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/GotoScoutPointState.cpp.o
[0.253s] [ 30%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/GotoShotPointState.cpp.o
[0.254s] [ 32%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/InitState.cpp.o
[0.255s] [ 34%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp.o
[0.257s] [ 36%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/StopState.cpp.o
[0.258s] [ 38%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/SurroundSeeState.cpp.o
[0.260s] [ 40%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/TakeoffState.cpp.o
[0.262s] [ 42%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp.o
[0.265s] [ 44%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/DoLandTask.cpp.o
[0.265s] [ 46%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp.o
[0.266s] [ 48%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/DoShotTask.cpp.o
[0.269s] [ 50%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/ROS2drone/ROS2Drone.cpp.o
[0.269s] [ 51%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/AbstractDrone.cpp.o
[0.271s] [ 53%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/state/InitState.cpp.o
[0.272s] [ 55%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/state/State.cpp.o
[0.272s] [ 57%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/RTLLandTask.cpp.o
[0.272s] [ 59%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/SetPointTask.cpp.o
[0.273s] [ 61%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/PrintInfoTask.cpp.o
[0.273s] [ 63%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/WayPointTask.cpp.o
[0.275s] [ 65%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/main.cpp.o
[0.277s] [ 67%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/stateMachine/State.cpp.o
[0.278s] [ 69%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/stateMachine/StateMachine.cpp.o
[0.280s] [ 71%] Building CXX object CMakeFiles/offboard_control.dir/src/offboard_control/task/BlankTask.cpp.o
[2.212s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.212s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = PrintInfoTask]’
[2.212s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = PrintInfoTask]’
[2.212s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.212s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:29:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.212s]    29 |     device->log_info(get_string().c_str());
[2.212s]       |     ~~~~~~~~^~~~~~~~
[2.212s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/TaskBase.h:9,
[2.213s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:10,
[2.213s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.h:3,
[2.213s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:1:
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.213s]     7 | class ROS2Drone;
[2.213s]       |       ^~~~~~~~~
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::run(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = PrintInfoTask]’
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = PrintInfoTask]’
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:59: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.213s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.213s]       |                                                   ~~~~~~~~^~~~~~~~~
[2.213s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.213s]     7 | class ROS2Drone;
[2.214s]       |       ^~~~~~~~~
[2.214s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:111: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.214s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.214s]       |                                                                                                       ~~~~~~~~^~~~~~~~~
[2.214s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.214s]     7 | class ROS2Drone;
[2.214s]       |       ^~~~~~~~~
[2.214s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:163: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.214s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.214s]       |                                                                                                                                                           ~~~~~~~~^~~~~~~~~
[2.214s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.214s]     7 | class ROS2Drone;
[2.214s]       |       ^~~~~~~~~
[2.214s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:59: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.214s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.214s]       |                                                   ~~~~~~~~^~~~~~~~~
[2.215s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.215s]     7 | class ROS2Drone;
[2.215s]       |       ^~~~~~~~~
[2.215s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:111: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.215s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.215s]       |                                                                                                       ~~~~~~~~^~~~~~~~~
[2.215s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.215s]     7 | class ROS2Drone;
[2.215s]       |       ^~~~~~~~~
[2.215s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:163: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.215s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.215s]       |                                                                                                                                                           ~~~~~~~~^~~~~~~~~
[2.215s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.215s]     7 | class ROS2Drone;
[2.216s]       |       ^~~~~~~~~
[2.216s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:48:46: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.216s]    48 |                 ss << "yaw_vel: " << device->get_yaw_vel() << std::endl;
[2.216s]       |                                      ~~~~~~~~^~~~~~~~~~~
[2.216s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.216s]     7 | class ROS2Drone;
[2.216s]       |       ^~~~~~~~~
[2.216s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:50:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.216s]    50 |                 device->get_euler(roll, pitch, yaw);
[2.216s]       |                 ~~~~~~~~^~~~~~~~~
[2.216s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.216s]     7 | class ROS2Drone;
[2.217s]       |       ^~~~~~~~~
[2.217s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:42: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.217s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.217s]       |                                  ~~~~~~~~^~~~~~~
[2.217s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.217s]     7 | class ROS2Drone;
[2.217s]       |       ^~~~~~~~~
[2.217s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:76: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.217s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.217s]       |                                                                    ~~~~~~~~^~~~~~~
[2.218s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.218s]     7 | class ROS2Drone;
[2.218s]       |       ^~~~~~~~~
[2.218s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:110: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.218s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.218s]       |                                                                                                      ~~~~~~~~^~~~~~~
[2.218s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.218s]     7 | class ROS2Drone;
[2.218s]       |       ^~~~~~~~~
[2.218s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:53:60: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.218s]    53 |                 ss << "rangefinder_distance:  " << device->get_rangefinder_distance() << std::endl;
[2.218s]       |                                                    ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~
[2.219s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.219s]     7 | class ROS2Drone;
[2.219s]       |       ^~~~~~~~~
[2.219s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:54:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.219s]    54 |                 ss << "armed:     " << device->get_armed() << std::endl;
[2.219s]       |                                        ~~~~~~~~^~~~~~~~~
[2.219s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.219s]     7 | class ROS2Drone;
[2.219s]       |       ^~~~~~~~~
[2.219s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:55:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.219s]    55 |                 ss << "connected: " << device->get_connected() << std::endl;
[2.219s]       |                                        ~~~~~~~~^~~~~~~~~~~~~
[2.220s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.220s]     7 | class ROS2Drone;
[2.220s]       |       ^~~~~~~~~
[2.220s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:56:46: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.220s]    56 |                 ss << "guided:  " << device->get_guided() << std::endl;
[2.220s]       |                                      ~~~~~~~~^~~~~~~~~~
[2.220s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.220s]     7 | class ROS2Drone;
[2.220s]       |       ^~~~~~~~~
[2.220s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:57:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.220s]    57 |                 ss << "mode:      " << device->get_mode() << std::endl;
[2.220s]       |                                        ~~~~~~~~^~~~~~~~
[2.220s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.221s]     7 | class ROS2Drone;
[2.221s]       |       ^~~~~~~~~
[2.221s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:58:53: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.221s]    58 |                 ss << "system_status:  " << device->get_system_status() << std::endl;
[2.221s]       |                                             ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.221s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.221s]     7 | class ROS2Drone;
[2.221s]       |       ^~~~~~~~~
[2.221s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:53: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.221s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.221s]       |                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.221s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.221s]     7 | class ROS2Drone;
[2.222s]       |       ^~~~~~~~~
[2.222s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:101: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.222s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.222s]       |                                                                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.222s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.222s]     7 | class ROS2Drone;
[2.222s]       |       ^~~~~~~~~
[2.222s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:149: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.222s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.222s]       |                                                                                                                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.222s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.222s]     7 | class ROS2Drone;
[2.223s]       |       ^~~~~~~~~
[2.223s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:60:51: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.223s]    60 |                 ss << "running_time: " << device->get_cur_time() << std::endl;
[2.223s]       |                                           ~~~~~~~~^~~~~~~~~~~~
[2.223s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.223s]     7 | class ROS2Drone;
[2.223s]       |       ^~~~~~~~~
[2.223s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:62:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.223s]    62 |                 device->log_info(ss.str().c_str());
[2.223s]       |                 ~~~~~~~~^~~~~~~~
[2.223s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.223s]     7 | class ROS2Drone;
[2.224s]       |       ^~~~~~~~~
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::end(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = PrintInfoTask]’
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = PrintInfoTask]’
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:84:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.224s]    84 |     device->log_info(get_string().c_str());
[2.224s]       |     ~~~~~~~~^~~~~~~~
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.224s]     7 | class ROS2Drone;
[2.224s]       |       ^~~~~~~~~
[2.224s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = PrintInfoTask]’
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = PrintInfoTask]’
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:29:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.225s]    29 |     device->log_info(get_string().c_str());
[2.225s]       |     ~~~~~~~~^~~~~~~~
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.225s]     8 | class APMROS2Drone;
[2.225s]       |       ^~~~~~~~~~~~
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::run(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = PrintInfoTask]’
[2.225s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = PrintInfoTask]’
[2.226s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.226s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:59: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.226s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.226s]       |                                                   ~~~~~~~~^~~~~~~~~
[2.226s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.226s]     8 | class APMROS2Drone;
[2.226s]       |       ^~~~~~~~~~~~
[2.226s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:111: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.226s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.226s]       |                                                                                                       ~~~~~~~~^~~~~~~~~
[2.226s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.226s]     8 | class APMROS2Drone;
[2.227s]       |       ^~~~~~~~~~~~
[2.227s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:44:163: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.227s]    44 |                 ss << "px:  " << std::setw(10) << device->get_x_pos() << ", py: " << std::setw(10) << device->get_y_pos() << ", pz: " << std::setw(10) << device->get_z_pos() << std::endl;
[2.227s]       |                                                                                                                                                           ~~~~~~~~^~~~~~~~~
[2.227s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.227s]     8 | class APMROS2Drone;
[2.227s]       |       ^~~~~~~~~~~~
[2.227s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:59: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.227s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.227s]       |                                                   ~~~~~~~~^~~~~~~~~
[2.227s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.227s]     8 | class APMROS2Drone;
[2.227s]       |       ^~~~~~~~~~~~
[2.228s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:111: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.228s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.228s]       |                                                                                                       ~~~~~~~~^~~~~~~~~
[2.228s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.228s]     8 | class APMROS2Drone;
[2.228s]       |       ^~~~~~~~~~~~
[2.228s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:45:163: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.228s]    45 |                 ss << "vx:  " << std::setw(10) << device->get_x_vel() << ", vy: " << std::setw(10) << device->get_y_vel() << ", vz: " << std::setw(10) << device->get_z_vel() << std::endl;
[2.228s]       |                                                                                                                                                           ~~~~~~~~^~~~~~~~~
[2.228s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.228s]     8 | class APMROS2Drone;
[2.229s]       |       ^~~~~~~~~~~~
[2.229s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:48:46: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.229s]    48 |                 ss << "yaw_vel: " << device->get_yaw_vel() << std::endl;
[2.229s]       |                                      ~~~~~~~~^~~~~~~~~~~
[2.229s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.229s]     8 | class APMROS2Drone;
[2.229s]       |       ^~~~~~~~~~~~
[2.229s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:50:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.229s]    50 |                 device->get_euler(roll, pitch, yaw);
[2.229s]       |                 ~~~~~~~~^~~~~~~~~
[2.229s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.229s]     8 | class APMROS2Drone;
[2.230s]       |       ^~~~~~~~~~~~
[2.230s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:42: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.230s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.230s]       |                                  ~~~~~~~~^~~~~~~
[2.230s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.230s]     8 | class APMROS2Drone;
[2.230s]       |       ^~~~~~~~~~~~
[2.230s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:76: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.230s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.230s]       |                                                                    ~~~~~~~~^~~~~~~
[2.230s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.230s]     8 | class APMROS2Drone;
[2.230s]       |       ^~~~~~~~~~~~
[2.230s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:52:110: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.231s]    52 |                 ss << "lat: " << device->get_lat() << ", lon: " << device->get_lon() << ", alt: " << device->get_alt() << std::endl;
[2.231s]       |                                                                                                      ~~~~~~~~^~~~~~~
[2.231s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.231s]     8 | class APMROS2Drone;
[2.231s]       |       ^~~~~~~~~~~~
[2.231s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:53:60: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.231s]    53 |                 ss << "rangefinder_distance:  " << device->get_rangefinder_distance() << std::endl;
[2.231s]       |                                                    ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~
[2.231s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.231s]     8 | class APMROS2Drone;
[2.231s]       |       ^~~~~~~~~~~~
[2.231s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:54:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.232s]    54 |                 ss << "armed:     " << device->get_armed() << std::endl;
[2.232s]       |                                        ~~~~~~~~^~~~~~~~~
[2.232s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.232s]     8 | class APMROS2Drone;
[2.232s]       |       ^~~~~~~~~~~~
[2.232s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:55:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.232s]    55 |                 ss << "connected: " << device->get_connected() << std::endl;
[2.232s]       |                                        ~~~~~~~~^~~~~~~~~~~~~
[2.232s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.232s]     8 | class APMROS2Drone;
[2.232s]       |       ^~~~~~~~~~~~
[2.232s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:56:46: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.232s]    56 |                 ss << "guided:  " << device->get_guided() << std::endl;
[2.233s]       |                                      ~~~~~~~~^~~~~~~~~~
[2.233s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.233s]     8 | class APMROS2Drone;
[2.233s]       |       ^~~~~~~~~~~~
[2.233s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:57:48: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.233s]    57 |                 ss << "mode:      " << device->get_mode() << std::endl;
[2.233s]       |                                        ~~~~~~~~^~~~~~~~
[2.233s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.233s]     8 | class APMROS2Drone;
[2.233s]       |       ^~~~~~~~~~~~
[2.233s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:58:53: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.233s]    58 |                 ss << "system_status:  " << device->get_system_status() << std::endl;
[2.234s]       |                                             ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.234s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.234s]     8 | class APMROS2Drone;
[2.234s]       |       ^~~~~~~~~~~~
[2.234s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:53: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.234s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.234s]       |                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.234s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.234s]     8 | class APMROS2Drone;
[2.234s]       |       ^~~~~~~~~~~~
[2.234s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:101: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.235s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.235s]       |                                                                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.235s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.235s]     8 | class APMROS2Drone;
[2.235s]       |       ^~~~~~~~~~~~
[2.235s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:59:149: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.235s]    59 |                 ss << "x_home_pos:     " << device->get_x_home_pos() << ", y_home_pos: " << device->get_y_home_pos() << ", z_home_pos: " << device->get_z_home_pos() << std::endl;
[2.235s]       |                                                                                                                                             ~~~~~~~~^~~~~~~~~~~~~~
[2.235s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.235s]     8 | class APMROS2Drone;
[2.235s]       |       ^~~~~~~~~~~~
[2.235s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:60:51: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.235s]    60 |                 ss << "running_time: " << device->get_cur_time() << std::endl;
[2.236s]       |                                           ~~~~~~~~^~~~~~~~~~~~
[2.236s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.236s]     8 | class APMROS2Drone;
[2.236s]       |       ^~~~~~~~~~~~
[2.236s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:62:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.236s]    62 |                 device->log_info(ss.str().c_str());
[2.236s]       |                 ~~~~~~~~^~~~~~~~
[2.236s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.236s]     8 | class APMROS2Drone;
[2.236s]       |       ^~~~~~~~~~~~
[2.236s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp: In instantiation of ‘bool PrintInfoTask::end(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.236s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = PrintInfoTask]’
[2.237s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = PrintInfoTask]’
[2.237s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.237s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/PrintInfoTask.cpp:84:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.237s]    84 |     device->log_info(get_string().c_str());
[2.237s]       |     ~~~~~~~~^~~~~~~~
[2.237s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.237s]     8 | class APMROS2Drone;
[2.238s]       |       ^~~~~~~~~~~~
[2.238s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:468: CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/PrintInfoTask.cpp.o] Error 1
[2.238s] gmake[2]: *** Waiting for unfinished jobs....
[2.238s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.238s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = SetPointTask]’
[2.238s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = SetPointTask]’
[2.238s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.239s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.239s]    28 |     device->log_info(get_string().c_str());
[2.239s]       |     ~~~~~~~~^~~~~~~~
[2.239s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/TaskBase.h:9,
[2.239s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:10,
[2.239s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.h:3,
[2.239s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:1:
[2.239s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.239s]     7 | class ROS2Drone;
[2.239s]       |       ^~~~~~~~~
[2.239s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::run(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.239s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = SetPointTask]’
[2.239s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = SetPointTask]’
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:38:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.240s]    38 |     device->log_info_throttle(std::chrono::milliseconds(500), "%s: time=%s", get_string().c_str(), timer_.elapsed() == std::numeric_limits<double>::max() ? "max" : std::to_string(timer_.elapsed()).c_str());
[2.240s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.240s]     7 | class ROS2Drone;
[2.240s]       |       ^~~~~~~~~
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:41:31: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.240s]    41 |             (is_equal(device->get_x_pos(), parameters_.target_x, parameters_.accuracy) &&
[2.240s]       |                       ~~~~~~~~^~~~~~~~~
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.240s]     7 | class ROS2Drone;
[2.240s]       |       ^~~~~~~~~
[2.240s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:42:30: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.240s]    42 |             is_equal(device->get_y_pos(), parameters_.target_y, parameters_.accuracy))
[2.240s]       |                      ~~~~~~~~^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]     7 | class ROS2Drone;
[2.241s]       |       ^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:52:21: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]    52 |             device->log_info("%s: 点位%d x: %lf y: %lf z: %lf timeout=%s",
[2.241s]       |             ~~~~~~~~^~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]     7 | class ROS2Drone;
[2.241s]       |       ^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:58:35: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]    58 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.241s]       |                           ~~~~~~~~^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]     7 | class ROS2Drone;
[2.241s]       |       ^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:58:98: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.241s]    58 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.241s]       |                                                                                          ~~~~~~~~^~~~~~~~~
[2.241s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]     7 | class ROS2Drone;
[2.242s]       |       ^~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:61:37: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]    61 |                             device->send_start_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送本地坐标系下的航点指令
[2.242s]       |                             ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]     7 | class ROS2Drone;
[2.242s]       |       ^~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:63:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]    63 |                 device->send_local_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送局部坐标系下的航点指令
[2.242s]       |                 ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]     7 | class ROS2Drone;
[2.242s]       |       ^~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:65:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]    65 |                 device->log_error("%s: 未知的坐标系参数", get_string().c_str());
[2.242s]       |                 ~~~~~~~~^~~~~~~~~
[2.242s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.242s]     7 | class ROS2Drone;
[2.242s]       |       ^~~~~~~~~
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::end(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = SetPointTask]’
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = SetPointTask]’
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:81:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.243s]    81 |     device->log_info(get_string().c_str());
[2.243s]       |     ~~~~~~~~^~~~~~~~
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.243s]     7 | class ROS2Drone;
[2.243s]       |       ^~~~~~~~~
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = SetPointTask]’
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = SetPointTask]’
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.243s]    28 |     device->log_info(get_string().c_str());
[2.243s]       |     ~~~~~~~~^~~~~~~~
[2.243s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.243s]     8 | class APMROS2Drone;
[2.244s]       |       ^~~~~~~~~~~~
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::run(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = SetPointTask]’
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = SetPointTask]’
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:38:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.244s]    38 |     device->log_info_throttle(std::chrono::milliseconds(500), "%s: time=%s", get_string().c_str(), timer_.elapsed() == std::numeric_limits<double>::max() ? "max" : std::to_string(timer_.elapsed()).c_str());
[2.244s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.244s]     8 | class APMROS2Drone;
[2.244s]       |       ^~~~~~~~~~~~
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:41:31: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.244s]    41 |             (is_equal(device->get_x_pos(), parameters_.target_x, parameters_.accuracy) &&
[2.244s]       |                       ~~~~~~~~^~~~~~~~~
[2.244s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.244s]     8 | class APMROS2Drone;
[2.244s]       |       ^~~~~~~~~~~~
[2.245s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:42:30: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.245s]    42 |             is_equal(device->get_y_pos(), parameters_.target_y, parameters_.accuracy))
[2.245s]       |                      ~~~~~~~~^~~~~~~~~
[2.245s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.245s]     8 | class APMROS2Drone;
[2.245s]       |       ^~~~~~~~~~~~
[2.245s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:52:21: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.245s]    52 |             device->log_info("%s: 点位%d x: %lf y: %lf z: %lf timeout=%s",
[2.245s]       |             ~~~~~~~~^~~~~~~~
[2.245s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.245s]     8 | class APMROS2Drone;
[2.245s]       |       ^~~~~~~~~~~~
[2.245s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:58:35: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.245s]    58 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.245s]       |                           ~~~~~~~~^~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.246s]     8 | class APMROS2Drone;
[2.246s]       |       ^~~~~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:58:98: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.246s]    58 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.246s]       |                                                                                          ~~~~~~~~^~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.246s]     8 | class APMROS2Drone;
[2.246s]       |       ^~~~~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:61:37: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.246s]    61 |                             device->send_start_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送本地坐标系下的航点指令
[2.246s]       |                             ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.246s]     8 | class APMROS2Drone;
[2.246s]       |       ^~~~~~~~~~~~
[2.246s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:63:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.247s]    63 |                 device->send_local_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送局部坐标系下的航点指令
[2.247s]       |                 ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.247s]     8 | class APMROS2Drone;
[2.247s]       |       ^~~~~~~~~~~~
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:65:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.247s]    65 |                 device->log_error("%s: 未知的坐标系参数", get_string().c_str());
[2.247s]       |                 ~~~~~~~~^~~~~~~~~
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.247s]     8 | class APMROS2Drone;
[2.247s]       |       ^~~~~~~~~~~~
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp: In instantiation of ‘bool SetPointTask::end(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = SetPointTask]’
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = SetPointTask]’
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.247s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/SetPointTask.cpp:81:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.247s]    81 |     device->log_info(get_string().c_str());
[2.247s]       |     ~~~~~~~~^~~~~~~~
[2.248s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.248s]     8 | class APMROS2Drone;
[2.248s]       |       ^~~~~~~~~~~~
[2.248s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:496: CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/SetPointTask.cpp.o] Error 1
[2.256s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.256s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = WayPointTask]’
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = WayPointTask]’
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.257s]    28 |     device->log_info(get_string().c_str());
[2.257s]       |     ~~~~~~~~^~~~~~~~
[2.257s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/TaskBase.h:9,
[2.257s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:10,
[2.257s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.h:3,
[2.257s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:1:
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.257s]     7 | class ROS2Drone;
[2.257s]       |       ^~~~~~~~~
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::run(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = WayPointTask]’
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = WayPointTask]’
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:38:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.257s]    38 |     device->log_info_throttle(std::chrono::milliseconds(500), "w_g_n,counter: %d, time=%s", get_counter(), timer_.elapsed() == std::numeric_limits<double>::max() ? "max" : std::to_string(timer_.elapsed()).c_str());
[2.257s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.257s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]     7 | class ROS2Drone;
[2.258s]       |       ^~~~~~~~~
[2.258s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:41:31: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]    41 |             (is_equal(device->get_x_pos(), parameters_.center_x + (parameters_.scope_length * way_point_[get_counter()].x()), parameters_.accuracy) &&
[2.258s]       |                       ~~~~~~~~^~~~~~~~~
[2.258s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]     7 | class ROS2Drone;
[2.258s]       |       ^~~~~~~~~
[2.258s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:42:30: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]    42 |             is_equal(device->get_y_pos(), parameters_.center_y + (parameters_.scope_width * way_point_[get_counter()].y()), parameters_.accuracy))
[2.258s]       |                      ~~~~~~~~^~~~~~~~~
[2.258s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]     7 | class ROS2Drone;
[2.258s]       |       ^~~~~~~~~
[2.258s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:54:21: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.258s]    54 |             device->log_info("w_g_n, %s点位%d x: %lf y: %lf z: %lf timeout=%s",
[2.259s]       |             ~~~~~~~~^~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]     7 | class ROS2Drone;
[2.259s]       |       ^~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:60:35: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]    60 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.259s]       |                           ~~~~~~~~^~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]     7 | class ROS2Drone;
[2.259s]       |       ^~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:60:98: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]    60 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.259s]       |                                                                                          ~~~~~~~~^~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]     7 | class ROS2Drone;
[2.259s]       |       ^~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:63:37: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.259s]    63 |                             device->send_start_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送本地坐标系下的航点指令
[2.259s]       |                             ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.259s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.260s]     7 | class ROS2Drone;
[2.260s]       |       ^~~~~~~~~
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:65:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.260s]    65 |                 device->send_local_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送局部坐标系下的航点指令
[2.260s]       |                 ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.260s]     7 | class ROS2Drone;
[2.260s]       |       ^~~~~~~~~
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:67:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.260s]    67 |                 device->log_error("%s: 未知的坐标系参数", get_string().c_str());
[2.260s]       |                 ~~~~~~~~^~~~~~~~~
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.260s]     7 | class ROS2Drone;
[2.260s]       |       ^~~~~~~~~
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::end(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = WayPointTask]’
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = WayPointTask]’
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.260s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:79:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.261s]    79 |     device->log_info(get_string().c_str());
[2.261s]       |     ~~~~~~~~^~~~~~~~
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.261s]     7 | class ROS2Drone;
[2.261s]       |       ^~~~~~~~~
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:80:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.261s]    80 |     device->log_info("w_g_n, %s已经全部遍历", way_point_.get_name().c_str());
[2.261s]       |     ~~~~~~~~^~~~~~~~
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.261s]     7 | class ROS2Drone;
[2.261s]       |       ^~~~~~~~~
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = WayPointTask]’
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = WayPointTask]’
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.261s]    28 |     device->log_info(get_string().c_str());
[2.261s]       |     ~~~~~~~~^~~~~~~~
[2.261s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.261s]     8 | class APMROS2Drone;
[2.262s]       |       ^~~~~~~~~~~~
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::run(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = WayPointTask]’
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = WayPointTask]’
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:38:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.262s]    38 |     device->log_info_throttle(std::chrono::milliseconds(500), "w_g_n,counter: %d, time=%s", get_counter(), timer_.elapsed() == std::numeric_limits<double>::max() ? "max" : std::to_string(timer_.elapsed()).c_str());
[2.262s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.262s]     8 | class APMROS2Drone;
[2.262s]       |       ^~~~~~~~~~~~
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:41:31: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.262s]    41 |             (is_equal(device->get_x_pos(), parameters_.center_x + (parameters_.scope_length * way_point_[get_counter()].x()), parameters_.accuracy) &&
[2.262s]       |                       ~~~~~~~~^~~~~~~~~
[2.262s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.262s]     8 | class APMROS2Drone;
[2.263s]       |       ^~~~~~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:42:30: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.263s]    42 |             is_equal(device->get_y_pos(), parameters_.center_y + (parameters_.scope_width * way_point_[get_counter()].y()), parameters_.accuracy))
[2.263s]       |                      ~~~~~~~~^~~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.263s]     8 | class APMROS2Drone;
[2.263s]       |       ^~~~~~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:54:21: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.263s]    54 |             device->log_info("w_g_n, %s点位%d x: %lf y: %lf z: %lf timeout=%s",
[2.263s]       |             ~~~~~~~~^~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.263s]     8 | class APMROS2Drone;
[2.263s]       |       ^~~~~~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:60:35: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.263s]    60 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.263s]       |                           ~~~~~~~~^~~~~~~~~
[2.263s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]     8 | class APMROS2Drone;
[2.264s]       |       ^~~~~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:60:98: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]    60 |                 (is_equal(device->get_x_pos(), x_temp, parameters_.accuracy) && is_equal(device->get_y_pos(), y_temp, parameters_.accuracy))? "true" : "false"
[2.264s]       |                                                                                          ~~~~~~~~^~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]     8 | class APMROS2Drone;
[2.264s]       |       ^~~~~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:63:37: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]    63 |                             device->send_start_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送本地坐标系下的航点指令
[2.264s]       |                             ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]     8 | class APMROS2Drone;
[2.264s]       |       ^~~~~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:65:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.264s]    65 |                 device->send_local_setpoint_command(x_temp, y_temp, z_temp, yaw_temp); // 发送局部坐标系下的航点指令
[2.264s]       |                 ~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~
[2.264s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]     8 | class APMROS2Drone;
[2.265s]       |       ^~~~~~~~~~~~
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:67:25: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]    67 |                 device->log_error("%s: 未知的坐标系参数", get_string().c_str());
[2.265s]       |                 ~~~~~~~~^~~~~~~~~
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]     8 | class APMROS2Drone;
[2.265s]       |       ^~~~~~~~~~~~
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp: In instantiation of ‘bool WayPointTask::end(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = WayPointTask]’
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = WayPointTask]’
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:79:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]    79 |     device->log_info(get_string().c_str());
[2.265s]       |     ~~~~~~~~^~~~~~~~
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]     8 | class APMROS2Drone;
[2.265s]       |       ^~~~~~~~~~~~
[2.265s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/WayPointTask.cpp:80:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.265s]    80 |     device->log_info("w_g_n, %s已经全部遍历", way_point_.get_name().c_str());
[2.266s]       |     ~~~~~~~~^~~~~~~~
[2.266s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.266s]     8 | class APMROS2Drone;
[2.266s]       |       ^~~~~~~~~~~~
[2.266s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:510: CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/WayPointTask.cpp.o] Error 1
[2.449s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:1:
[2.449s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.h:22:44: error: ‘BlankTask::BlankTask(std::string)’ is private within this context
[2.449s]    22 |     BlankTask land_task = BlankTask("Blank");
[2.449s]       |                                            ^
[2.449s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.h:4:
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/BlankTask.h:14:5: note: declared private here
[2.450s]    14 |     BlankTask(std::string name) :
[2.450s]       |     ^~~~~~~~~
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.h: In member function ‘void RTLLandTask::set_run_result(bool)’:
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.h:16:9: error: ‘run_result’ was not declared in this scope; did you mean ‘set_run_result’?
[2.450s]    16 |         run_result = result;
[2.450s]       |         ^~~~~~~~~~
[2.450s]       |         set_run_result
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In member function ‘bool RTLLandTask::run(DeviceType)’:
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:40:50: error: ‘run_result’ was not declared in this scope; did you mean ‘set_run_result’?
[2.450s]    40 |     } else if (device->get_mode() == "GUIDED" && run_result) {
[2.450s]       |                                                  ^~~~~~~~~~
[2.450s]       |                                                  set_run_result
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In member function ‘bool RTLLandTask::end(DeviceType)’:
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:53:39: error: ‘EndState’ has not been declared
[2.450s]    53 |     device->stateMachine.transitionTo(EndState::getInstance());
[2.450s]       |                                       ^~~~~~~~
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<AbstractDrone>]’:
[2.450s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:58:102:   required from here
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:30:13: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘get_state_controller’; did you mean ‘get_status_controller’?
[2.451s]    30 |     device->get_state_controller()->switch_mode("RTL");
[2.451s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.451s]       |     get_status_controller
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::run(DeviceType) [with DeviceType = std::shared_ptr<AbstractDrone>]’:
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:59:101:   required from here
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:39:17: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘get_state_controller’; did you mean ‘get_status_controller’?
[2.451s]    39 |         device->get_state_controller()->switch_mode("GUIDED");
[2.451s]       |         ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.451s]       |         get_status_controller
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:43:35: error: cannot convert ‘const char [21]’ to ‘const std::chrono::milliseconds&’ {aka ‘const std::chrono::duration<long int, std::ratio<1, 1000> >&’}
[2.451s]    43 |         device->log_info_throttle("等待降落中...%f", timer_.elapsed());
[2.451s]       |                                   ^~~~~~~~~~~~~~~~~
[2.451s]       |                                   |
[2.451s]       |                                   const char [21]
[2.451s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:2:
[2.451s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../AbstractDrone.h:304:65: note:   initializing argument 1 of ‘void AbstractDrone::log_info_throttle(const std::chrono::milliseconds&, const std::string&, ...)’
[2.451s]   304 |         void log_info_throttle(const std::chrono::milliseconds& wait_time, const std::string& format, ...);
[2.451s]       |                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::end(DeviceType) [with DeviceType = std::shared_ptr<AbstractDrone>]’:
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:60:101:   required from here
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:52:13: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘get_state_controller’; did you mean ‘get_status_controller’?
[2.452s]    52 |     device->get_state_controller()->switch_mode("LAND");
[2.452s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.452s]       |     get_status_controller
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:53:13: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘stateMachine’
[2.452s]    53 |     device->stateMachine.transitionTo(EndState::getInstance());
[2.452s]       |     ~~~~~~~~^~~~~~~~~~~~
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = RTLLandTask]’
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = RTLLandTask]’
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.452s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.452s]    28 |     device->log_info(get_string().c_str());
[2.452s]       |     ~~~~~~~~^~~~~~~~
[2.453s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/TaskBase.h:9,
[2.453s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:10,
[2.453s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.h:3:
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.453s]     7 | class ROS2Drone;
[2.453s]       |       ^~~~~~~~~
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:29:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.453s]    29 |     device->log_info("开始降落");
[2.453s]       |     ~~~~~~~~^~~~~~~~
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.453s]     7 | class ROS2Drone;
[2.453s]       |       ^~~~~~~~~
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:30:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.453s]    30 |     device->get_state_controller()->switch_mode("RTL");
[2.453s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.453s]     7 | class ROS2Drone;
[2.453s]       |       ^~~~~~~~~
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::run(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.453s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = RTLLandTask]’
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = RTLLandTask]’
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:38:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]    38 |         device->log_info("等待降落超过18秒，开始降落");
[2.454s]       |         ~~~~~~~~^~~~~~~~
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]     7 | class ROS2Drone;
[2.454s]       |       ^~~~~~~~~
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:39:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]    39 |         device->get_state_controller()->switch_mode("GUIDED");
[2.454s]       |         ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]     7 | class ROS2Drone;
[2.454s]       |       ^~~~~~~~~
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:40:24: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]    40 |     } else if (device->get_mode() == "GUIDED" && run_result) {
[2.454s]       |                ~~~~~~~~^~~~~~~~
[2.454s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.454s]     7 | class ROS2Drone;
[2.454s]       |       ^~~~~~~~~
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:43:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.455s]    43 |         device->log_info_throttle("等待降落中...%f", timer_.elapsed());
[2.455s]       |         ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.455s]     7 | class ROS2Drone;
[2.455s]       |       ^~~~~~~~~
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::end(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>; T = RTLLandTask]’
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:171:51:   required from ‘bool Task<T>::execute_ros2(std::shared_ptr<ROS2Drone>) [with T = RTLLandTask]’
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:170:10:   required from here
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:50:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.455s]    50 |     device->log_info(get_string().c_str());
[2.455s]       |     ~~~~~~~~^~~~~~~~
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.455s]     7 | class ROS2Drone;
[2.455s]       |       ^~~~~~~~~
[2.455s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:51:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.455s]    51 |     device->log_info("降落完成");
[2.455s]       |     ~~~~~~~~^~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.456s]     7 | class ROS2Drone;
[2.456s]       |       ^~~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:52:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.456s]    52 |     device->get_state_controller()->switch_mode("LAND");
[2.456s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.456s]     7 | class ROS2Drone;
[2.456s]       |       ^~~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:53:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.456s]    53 |     device->stateMachine.transitionTo(EndState::getInstance());
[2.456s]       |     ~~~~~~~~^~~~~~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:7:7: note: forward declaration of ‘using std::__shared_ptr_access<ROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class ROS2Drone’ {aka ‘class ROS2Drone’}
[2.456s]     7 | class ROS2Drone;
[2.456s]       |       ^~~~~~~~~
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:91:32:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = RTLLandTask]’
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = RTLLandTask]’
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.456s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:28:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]    28 |     device->log_info(get_string().c_str());
[2.457s]       |     ~~~~~~~~^~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]     8 | class APMROS2Drone;
[2.457s]       |       ^~~~~~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:29:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]    29 |     device->log_info("开始降落");
[2.457s]       |     ~~~~~~~~^~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]     8 | class APMROS2Drone;
[2.457s]       |       ^~~~~~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:30:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]    30 |     device->get_state_controller()->switch_mode("RTL");
[2.457s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.457s]     8 | class APMROS2Drone;
[2.457s]       |       ^~~~~~~~~~~~
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::run(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:101:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = RTLLandTask]’
[2.457s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = RTLLandTask]’
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:38:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]    38 |         device->log_info("等待降落超过18秒，开始降落");
[2.458s]       |         ~~~~~~~~^~~~~~~~
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]     8 | class APMROS2Drone;
[2.458s]       |       ^~~~~~~~~~~~
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:39:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]    39 |         device->get_state_controller()->switch_mode("GUIDED");
[2.458s]       |         ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]     8 | class APMROS2Drone;
[2.458s]       |       ^~~~~~~~~~~~
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:40:24: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]    40 |     } else if (device->get_mode() == "GUIDED" && run_result) {
[2.458s]       |                ~~~~~~~~^~~~~~~~
[2.458s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.458s]     8 | class APMROS2Drone;
[2.458s]       |       ^~~~~~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:43:17: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.459s]    43 |         device->log_info_throttle("等待降落中...%f", timer_.elapsed());
[2.459s]       |         ~~~~~~~~^~~~~~~~~~~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.459s]     8 | class APMROS2Drone;
[2.459s]       |       ^~~~~~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp: In instantiation of ‘bool RTLLandTask::end(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:110:31:   required from ‘bool Task<T>::execute(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>; T = RTLLandTask]’
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:175:54:   required from ‘bool Task<T>::execute_apm(std::shared_ptr<APMROS2Drone>) [with T = RTLLandTask]’
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/Task.h:174:10:   required from here
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:50:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.459s]    50 |     device->log_info(get_string().c_str());
[2.459s]       |     ~~~~~~~~^~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.459s]     8 | class APMROS2Drone;
[2.459s]       |       ^~~~~~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:51:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.459s]    51 |     device->log_info("降落完成");
[2.459s]       |     ~~~~~~~~^~~~~~~~
[2.459s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.460s]     8 | class APMROS2Drone;
[2.460s]       |       ^~~~~~~~~~~~
[2.460s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:52:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.460s]    52 |     device->get_state_controller()->switch_mode("LAND");
[2.460s]       |     ~~~~~~~~^~~~~~~~~~~~~~~~~~~~
[2.460s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.460s]     8 | class APMROS2Drone;
[2.460s]       |       ^~~~~~~~~~~~
[2.460s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/RTLLandTask.cpp:53:13: error: invalid use of incomplete type ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.460s]    53 |     device->stateMachine.transitionTo(EndState::getInstance());
[2.460s]       |     ~~~~~~~~^~~~~~~~~~~~
[2.460s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/task/../../task/DeviceVisitor.h:8:7: note: forward declaration of ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’}
[2.460s]     8 | class APMROS2Drone;
[2.460s]       |       ^~~~~~~~~~~~
[2.460s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:482: CMakeFiles/offboard_control.dir/src/offboard_control/drone/task/RTLLandTask.cpp.o] Error 1
[9.024s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp: In member function ‘virtual void States::InitState::executeImpl() const’:
[9.026s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:19:62: error: incomplete type ‘StateMachine<APMROS2Drone>’ used in nested name specifier
[9.026s]    19 |             auto& stateMachine = StateMachine<APMROS2Drone>::getInstance();
[9.026s]       |                                                              ^~~~~~~~~~~
[9.027s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:21:25: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘FlyState_init’
[9.027s]    21 |                 owner_->FlyState_init();
[9.027s]       |                         ^~~~~~~~~~~~~
[9.027s] In file included from /opt/ros/jazzy/include/rclcpp/rclcpp/copy_all_parameter_values.hpp:27,
[9.027s]                  from /opt/ros/jazzy/include/rclcpp/rclcpp/rclcpp.hpp:171,
[9.027s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:8,
[9.027s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:2:
[9.027s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:42: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.027s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                                          ^~~~
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:42: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:17: error: template argument 1 is invalid
[9.028s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                 ^~~~~~~~~~~~~~~~
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:17: error: template argument 1 is invalid
[9.028s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                 ^~~~~~~~~~~~~~~~
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:17: error: template argument 1 is invalid
[9.028s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                 ^~~~~~~~~~~~~~~~
[9.028s] In file included from /opt/ros/jazzy/include/rclcpp/rclcpp/logging.hpp:24:
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:42: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.028s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                                          ^~~~
[9.028s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:22:42: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.028s]    22 |                 RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[9.028s]       |                                          ^~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:23:29: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘debug_mode_’
[9.029s]    23 |                 if (owner_->debug_mode_) {
[9.029s]       |                             ^~~~~~~~~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:46: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.029s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.029s]       |                                              ^~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:46: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:21: error: template argument 1 is invalid
[9.029s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.029s]       |                     ^~~~~~~~~~~~~~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:21: error: template argument 1 is invalid
[9.029s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.029s]       |                     ^~~~~~~~~~~~~~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:21: error: template argument 1 is invalid
[9.029s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.029s]       |                     ^~~~~~~~~~~~~~~~
[9.029s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:46: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.029s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.029s]       |                                              ^~~~
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:24:46: error: ‘using std::__shared_ptr_access<AbstractDrone, __gnu_cxx::_S_atomic, false, false>::element_type = class AbstractDrone’ {aka ‘class AbstractDrone’} has no member named ‘node’
[9.030s]    24 |                     RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[9.030s]       |                                              ^~~~
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:25:35: error: ‘GotoShotPointState’ has not been declared
[9.030s]    25 |                     transition_to(GotoShotPointState::getInstance());
[9.030s]       |                                   ^~~~~~~~~~~~~~~~~~
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:28:31: error: ‘TakeoffState’ has not been declared
[9.030s]    28 |                 transition_to(TakeoffState::getInstance());
[9.030s]       |                               ^~~~~~~~~~~~
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h: In instantiation of ‘State<T>::State(const std::string&, int) [with T = AbstractDrone; std::string = std::__cxx11::basic_string<char>]’:
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/State.cpp:33:38:   required from here
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:132:66: error: incomplete type ‘StateMachine<AbstractDrone>’ used in nested name specifier
[9.030s]   132 |                 auto& stateMachine = StateMachine<T>::getInstance();
[9.030s]       |                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
[9.030s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h: In instantiation of ‘std::future<void> State<T>::executeAsync() const [with T = AbstractDrone]’:
[9.031s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:76:28:   required from here
[9.031s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:78:66: error: incomplete type ‘StateMachine<AbstractDrone>’ used in nested name specifier
[9.031s]    78 |                 auto& stateMachine = StateMachine<T>::getInstance();
[9.031s]       |                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
[9.031s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:454: CMakeFiles/offboard_control.dir/src/offboard_control/drone/state/State.cpp.o] Error 1
[12.930s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/states.h:3,
[12.930s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:2:
[12.930s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.h:7:11: error: redefinition of ‘class States::InitState’
[12.930s]     7 |     class InitState : public State<AbstractDrone> {
[12.930s]       |           ^~~~~~~~~
[12.930s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:1:
[12.930s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.h:7:11: note: previous definition of ‘class States::InitState’
[12.930s]     7 |     class InitState : public State<AbstractDrone> {
[12.930s]       |           ^~~~~~~~~
[12.930s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:4:6: error: ‘InitState’ has not been declared
[12.930s]     4 | void InitState::executeImpl() const override {
[12.930s]       |      ^~~~~~~~~
[12.930s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:4:37: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[12.930s]     4 | void InitState::executeImpl() const override {
[12.931s]       |                                     ^~~~~~~~
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:4:37: error: non-member function ‘void executeImpl()’ cannot have cv-qualifier
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp: In function ‘void executeImpl()’:
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:7:54: error: incomplete type ‘StateMachine<APMROS2Drone>’ used in nested name specifier
[12.931s]     7 |     auto& stateMachine = StateMachine<APMROS2Drone>::getInstance();
[12.931s]       |                                                      ^~~~~~~~~~~
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:8:43: error: ‘InitState’ has not been declared
[12.931s]     8 |     if (stateMachine.getCurrentState() == InitState::getInstance()) {
[12.931s]       |                                           ^~~~~~~~~
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:9:9: error: ‘owner_’ was not declared in this scope
[12.931s]     9 |         owner_->FlyState_init();
[12.931s]       |         ^~~~~~
[12.931s] In file included from /opt/ros/jazzy/include/rclcpp/rclcpp/copy_all_parameter_values.hpp:27,
[12.931s]                  from /opt/ros/jazzy/include/rclcpp/rclcpp/rclcpp.hpp:171,
[12.931s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:8,
[12.931s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.h:2:
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:10:9: error: template argument 1 is invalid
[12.931s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[12.931s]       |         ^~~~~~~~~~~~~~~~
[12.931s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:10:9: error: template argument 1 is invalid
[12.932s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[12.932s]       |         ^~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:10:9: error: template argument 1 is invalid
[12.932s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[12.932s]       |         ^~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:12:13: error: template argument 1 is invalid
[12.932s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[12.932s]       |             ^~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:12:13: error: template argument 1 is invalid
[12.932s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[12.932s]       |             ^~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:12:13: error: template argument 1 is invalid
[12.932s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[12.932s]       |             ^~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:13:27: error: ‘GotoShotPointState’ has not been declared
[12.932s]    13 |             transition_to(GotoShotPointState::getInstance());
[12.932s]       |                           ^~~~~~~~~~~~~~~~~~
[12.932s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:13:13: error: ‘transition_to’ was not declared in this scope
[12.932s]    13 |             transition_to(GotoShotPointState::getInstance());
[12.932s]       |             ^~~~~~~~~~~~~
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:16:23: error: ‘TakeoffState’ has not been declared
[12.933s]    16 |         transition_to(TakeoffState::getInstance());
[12.933s]       |                       ^~~~~~~~~~~~
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.cpp:16:9: error: ‘transition_to’ was not declared in this scope
[12.933s]    16 |         transition_to(TakeoffState::getInstance());
[12.933s]       |         ^~~~~~~~~~~~~
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h: In instantiation of ‘State<T>::State(const std::string&, int) [with T = AbstractDrone; std::string = std::__cxx11::basic_string<char>]’:
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/InitState.h:18:38:   required from here
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:132:66: error: incomplete type ‘StateMachine<AbstractDrone>’ used in nested name specifier
[12.933s]   132 |                 auto& stateMachine = StateMachine<T>::getInstance();
[12.933s]       |                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
[12.933s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h: In instantiation of ‘std::future<void> State<T>::executeAsync() const [with T = AbstractDrone]’:
[12.934s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:76:28:   required from here
[12.934s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/drone/state/../../stateMachine/State.h:78:66: error: incomplete type ‘StateMachine<AbstractDrone>’ used in nested name specifier
[12.934s]    78 |                 auto& stateMachine = StateMachine<T>::getInstance();
[12.934s]       |                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
[12.934s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:440: CMakeFiles/offboard_control.dir/src/offboard_control/drone/state/InitState.cpp.o] Error 1
[30.162s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp: In member function ‘bool DoLandTask::init(DeviceType)’:
[30.164s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:42:14: error: ‘class std::shared_ptr<Task<AppochTargetTask> >’ has no member named ‘setParameters’
[30.164s]    42 |         task.setParameters(
[30.164s]       |              ^~~~~~~~~~~~~
[30.164s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:43:41: error: expected primary-expression before ‘(’ token
[30.165s]    43 |             AppochTargetTask::Parameters(
[30.165s]       |                                         ^
[30.165s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:44:24: error: expected unqualified-id before ‘.’ token
[30.165s]    44 |             parameters..)
[30.165s]       |                        ^
[30.165s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:44:25: error: expected unqualified-id before ‘)’ token
[30.165s]    44 |             parameters..)
[30.165s]       |                         ^
[30.165s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:49:14: error: ‘class std::shared_ptr<Task<AppochTargetTask> >’ has no member named ‘setParameters’
[30.165s]    49 |         task.setParameters(
[30.165s]       |              ^~~~~~~~~~~~~
[30.165s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp: In member function ‘bool DoLandTask::run(DeviceType)’:
[30.165s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:82:81: error: ‘target’ was not declared in this scope
[30.166s]    82 |         if (timer_.elapsed() > 19 || surround_land > 3 || device->get_z_pos() < target.z + 0.1) // 降落时间超过39秒，或者降落高度小于目标高度
[30.166s]       |                                                                                 ^~~~~~
[30.166s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:103:22: error: ‘class std::shared_ptr<Task<AppochTargetTask> >’ has no member named ‘execute_apm’
[30.166s]   103 |             if (task.execute_apm(device))
[30.166s]       |                      ^~~~~~~~~~~
[30.166s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:114:52: error: ‘t2p_target’ was not declared in this scope
[30.166s]   114 |         device->get_yolo_detector()->append_target(t2p_target); // 将目标添加到YOLO中准备发布
[30.166s]       |                                                    ^~~~~~~~~~
[30.166s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp: In instantiation of ‘bool DoLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<AbstractDrone>]’:
[30.166s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:136:101:   required from here
[30.167s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:43:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.167s]    43 |             AppochTargetTask::Parameters(
[30.167s]       |                               ^~~~~~~~~~
[30.167s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.h:7,
[30.167s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:1:
[30.167s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.167s]    35 |     struct Parameters{
[30.167s]       |            ^~~~~~~~~~
[30.167s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:50:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.167s]    50 |             AppochTargetTask::Parameters(
[30.167s]       |                               ^~~~~~~~~~
[30.167s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.167s]    35 |     struct Parameters{
[30.168s]       |            ^~~~~~~~~~
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp: In instantiation of ‘bool DoLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:140:93:   required from here
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:43:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.168s]    43 |             AppochTargetTask::Parameters(
[30.168s]       |                               ^~~~~~~~~~
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.168s]    35 |     struct Parameters{
[30.168s]       |            ^~~~~~~~~~
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:50:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.168s]    50 |             AppochTargetTask::Parameters(
[30.168s]       |                               ^~~~~~~~~~
[30.168s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.168s]    35 |     struct Parameters{
[30.169s]       |            ^~~~~~~~~~
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp: In instantiation of ‘bool DoLandTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:144:99:   required from here
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:43:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.169s]    43 |             AppochTargetTask::Parameters(
[30.169s]       |                               ^~~~~~~~~~
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.169s]    35 |     struct Parameters{
[30.169s]       |            ^~~~~~~~~~
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoLandTask.cpp:50:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[30.169s]    50 |             AppochTargetTask::Parameters(
[30.169s]       |                               ^~~~~~~~~~
[30.169s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[30.169s]    35 |     struct Parameters{
[30.170s]       |            ^~~~~~~~~~
[30.170s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:314: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/DoLandTask.cpp.o] Error 1
[30.547s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp: In member function ‘bool AppochTargetTask::init(DeviceType)’:
[30.547s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:69:52: error: ‘tar_z’ was not declared in this scope
[30.547s]    69 |             target.z = (is_equal(target.z, 0.0f) ? tar_z : target.z);
[30.547s]       |                                                    ^~~~~
[30.547s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:78:19: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.547s]    78 |             this->image_targets.push_back(target);
[30.547s]       |                   ^~~~~~~~~~~~~
[30.547s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:83:31: error: ‘shot_duration’ was not declared in this scope; did you mean ‘find_duration’?
[30.547s]    83 |             radius, accuracy, shot_duration, shot_wait
[30.547s]       |                               ^~~~~~~~~~~~~
[30.547s]       |                               find_duration
[30.547s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:83:46: error: ‘shot_wait’ was not declared in this scope
[30.547s]    83 |             radius, accuracy, shot_duration, shot_wait
[30.547s]       |                                              ^~~~~~~~~
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp: In member function ‘bool AppochTargetTask::run(DeviceType)’:
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:118:61: error: ‘image_targets’ was not declared in this scope
[30.548s]   118 |         if (parameters.config_device_name_suffix.empty() && image_targets.empty()) {
[30.548s]       |                                                             ^~~~~~~~~~~~~
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:124:72: error: ‘image_targets’ was not declared in this scope
[30.548s]   124 |         if (parameters.device_index < 0 || (parameters.device_index >= image_targets.size() &&
[30.548s]       |                                                                        ^~~~~~~~~~~~~
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:132:38: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.548s]   132 |         for (size_t i = 0; i < this->image_targets.size(); i++)
[30.548s]       |                                      ^~~~~~~~~~~~~
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:134:19: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.548s]   134 |             this->image_targets[i].r = 1.0f; // 设置所有目标颜色为红色
[30.548s]       |                   ^~~~~~~~~~~~~
[30.548s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:135:19: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.548s]   135 |             this->image_targets[i].g = 0.0f;
[30.548s]       |                   ^~~~~~~~~~~~~
[30.549s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:136:19: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.549s]   136 |             this->image_targets[i].b = 0.0f;
[30.549s]       |                   ^~~~~~~~~~~~~
[30.549s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:137:19: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.551s]   137 |             this->image_targets[i].relative_z = device->get_camera_gimbal()->get_position().z() - parameters.target_height; // 设置目标的高度为相机高度
[30.552s]       |                   ^~~~~~~~~~~~~
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:142:50: error: ‘class AppochTargetTask’ has no member named ‘image_targets’
[30.552s]   142 |         YOLODetector::Target temp_target = this->image_targets[0];
[30.552s]       |                                                  ^~~~~~~~~~~~~
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:143:32: error: ‘_camera_gimbal’ was not declared in this scope; did you mean ‘CameraGimbal’?
[30.552s]   143 |         auto shot_target_opt = _camera_gimbal->worldToPixel(getCurrentTargets());
[30.552s]       |                                ^~~~~~~~~~~~~~
[30.552s]       |                                CameraGimbal
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:155:47: error: ‘image_targets’ was not declared in this scope; did you mean ‘t2p_targets’?
[30.552s]   155 |             YOLODetector::Target t2p_target = image_targets[0];
[30.552s]       |                                               ^~~~~~~~~~~~~
[30.552s]       |                                               t2p_targets
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:193:46: error: ‘image_targets’ was not declared in this scope; did you mean ‘t2p_targets’?
[30.552s]   193 |         } else if (parameters.device_index < image_targets.size()) {     // 使用读取的对应目标
[30.552s]       |                                              ^~~~~~~~~~~~~
[30.552s]       |                                              t2p_targets
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp: In instantiation of ‘bool AppochTargetTask::run(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:253:104:   required from here
[30.552s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:102:44: error: ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’} has no member named ‘get_pos_z’; did you mean ‘get_pos_3f’?
[30.553s]   102 |             if (is_equal(target_z, device->get_pos_z(), 0.40)) {
[30.553s]       |                                    ~~~~~~~~^~~~~~~~~
[30.553s]       |                                    get_pos_3f
[30.553s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:105:42: error: ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’} has no member named ‘get_pos_z’; did you mean ‘get_pos_3f’?
[30.553s]   105 |                 target_z = 0.8 * device->get_pos_z() + target.z() + (device->get_pos_z() - target.z() > 0) ? -0.1 : +0.1;
[30.553s]       |                                  ~~~~~~~~^~~~~~~~~
[30.553s]       |                                  get_pos_3f
[30.553s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:105:78: error: ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’} has no member named ‘get_pos_z’; did you mean ‘get_pos_3f’?
[30.553s]   105 |                 target_z = 0.8 * device->get_pos_z() + target.z() + (device->get_pos_z() - target.z() > 0) ? -0.1 : +0.1;
[30.553s]       |                                                                      ~~~~~~~~^~~~~~~~~
[30.553s]       |                                                                      get_pos_3f
[30.553s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:108:44: error: ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’} has no member named ‘get_pos_z’; did you mean ‘get_pos_3f’?
[30.553s]   108 |             if (is_equal(target_z, device->get_pos_z(), 0.10)) {
[30.553s]       |                                    ~~~~~~~~^~~~~~~~~
[30.553s]       |                                    get_pos_3f
[30.554s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp:164:25: error: ‘using std::__shared_ptr_access<APMROS2Drone, __gnu_cxx::_S_atomic, false, false>::element_type = class APMROS2Drone’ {aka ‘class APMROS2Drone’} has no member named ‘get_target_position’
[30.554s]   164 |                 device->get_target_position().z() + this->device_position[i].z()
[30.554s]       |                 ~~~~~~~~^~~~~~~~~~~~~~~~~~~
[30.554s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:300: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/AppochTargetTask.cpp.o] Error 1
[30.576s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.cpp:1:
[30.576s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.h:6:7: error: redefinition of ‘class TakeoffState’
[30.576s]     6 | class TakeoffState : public State<APMROS2Drone> {
[30.576s]       |       ^~~~~~~~~~~~
[30.576s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:12,
[30.576s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[30.576s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.h:3:
[30.576s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/TakeoffState.h:6:7: note: previous definition of ‘class TakeoffState’
[30.576s]     6 | class TakeoffState : public State<APMROS2Drone> {
[30.576s]       |       ^~~~~~~~~~~~
[30.576s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.cpp:4:40: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[30.576s]     4 | void TakeoffState::executeImpl() const override {
[30.576s]       |                                        ^~~~~~~~
[30.576s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[30.576s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[30.576s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[30.577s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.cpp:13:42:   required from here
[30.577s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[30.577s]   236 |             auto previousState = getState(previous_state_name_);
[30.577s]       |                  ^~~~~~~~~~~~~
[30.577s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TakeoffState.h:2:
[30.577s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[30.577s]   137 |         State(const State&) = delete;
[30.577s]       |         ^~~~~
[30.580s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:272: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/TakeoffState.cpp.o] Error 1
[31.573s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoScoutPointState.cpp:1:
[31.574s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:5:7: error: redefinition of ‘class DoshotState’
[31.574s]     5 | class DoshotState : public State<APMROS2Drone> {
[31.574s]       |       ^~~~~~~~~~~
[31.574s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:4,
[31.574s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[31.574s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:3:
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/DoshotState.h:5:7: note: previous definition of ‘class DoshotState’
[31.575s]     5 | class DoshotState : public State<APMROS2Drone> {
[31.575s]       |       ^~~~~~~~~~~
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoScoutPointState.cpp:4:47: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[31.575s]     4 | void GotoScoutPointState::executeImpl() const override {
[31.575s]       |                                               ^~~~~~~~
[31.575s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoScoutPointState.cpp:16:38:   required from here
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[31.575s]   236 |             auto previousState = getState(previous_state_name_);
[31.575s]       |                  ^~~~~~~~~~~~~
[31.575s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:2:
[31.575s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[31.575s]   137 |         State(const State&) = delete;
[31.576s]       |         ^~~~~
[31.582s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:188: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/GotoScoutPointState.cpp.o] Error 1
[32.101s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp: In member function ‘bool DoShotTask::init(DeviceType)’:
[32.101s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:41:14: error: ‘class std::shared_ptr<Task<AppochTargetTask> >’ has no member named ‘setParameters’
[32.101s]    41 |         task.setParameters(
[32.101s]       |              ^~~~~~~~~~~~~
[32.101s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp: In member function ‘bool DoShotTask::run(DeviceType)’:
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:81:23: error: ‘class std::shared_ptr<Task<AppochTargetTask> >’ has no member named ‘execute_apm’
[32.102s]    81 |         else if (task.execute_apm(device))
[32.102s]       |                       ^~~~~~~~~~~
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:92:36: error: ‘shot_index_target’ was not declared in this scope
[32.102s]    92 |                     shot_duration, shot_index_target.x, shot_index_target.y, shot_index_target.z, parameters.target_yaw);
[32.102s]       |                                    ^~~~~~~~~~~~~~~~~
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:94:64: error: ‘parameter’ was not declared in this scope; did you mean ‘parameters’?
[32.102s]    94 |                 device->get_servo_controller()->set_servo(11 + parameter.device_index, device->get_servo_controller()->get_servo_open_position()); // 设置舵机位置，投弹
[32.102s]       |                                                                ^~~~~~~~~
[32.102s]       |                                                                parameters
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:101:68: error: ‘parameter’ was not declared in this scope; did you mean ‘parameters’?
[32.102s]   101 |                     device->get_servo_controller()->set_servo(11 + parameter.device_index, device->get_servo_controller()->get_servo_open_position()); // 重复投弹
[32.102s]       |                                                                    ^~~~~~~~~
[32.102s]       |                                                                    parameters
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp: In instantiation of ‘bool DoShotTask::init(DeviceType) [with DeviceType = std::shared_ptr<AbstractDrone>]’:
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:139:101:   required from here
[32.102s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:42:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[32.102s]    42 |             AppochTargetTask::Parameters(
[32.102s]       |                               ^~~~~~~~~~
[32.103s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.h:7,
[32.103s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:1:
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[32.103s]    35 |     struct Parameters{
[32.103s]       |            ^~~~~~~~~~
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp: In instantiation of ‘bool DoShotTask::init(DeviceType) [with DeviceType = std::shared_ptr<ROS2Drone>]’:
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:143:93:   required from here
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:42:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[32.103s]    42 |             AppochTargetTask::Parameters(
[32.103s]       |                               ^~~~~~~~~~
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[32.103s]    35 |     struct Parameters{
[32.103s]       |            ^~~~~~~~~~
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp: In instantiation of ‘bool DoShotTask::init(DeviceType) [with DeviceType = std::shared_ptr<APMROS2Drone>]’:
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:147:99:   required from here
[32.103s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/DoShotTask.cpp:42:31: error: ‘struct AppochTargetTask::Parameters’ is private within this context
[32.103s]    42 |             AppochTargetTask::Parameters(
[32.103s]       |                               ^~~~~~~~~~
[32.104s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/task/AppochTargetTask.h:35:12: note: declared private here
[32.104s]    35 |     struct Parameters{
[32.104s]       |            ^~~~~~~~~~
[32.105s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:328: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/task/DoShotTask.cpp.o] Error 1
[32.370s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/StopState.cpp:1:
[32.370s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/StopState.h:6:7: error: redefinition of ‘class StopState’
[32.370s]     6 | class StopState : public State<APMROS2Drone> {
[32.370s]       |       ^~~~~~~~~
[32.370s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:10,
[32.370s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[32.370s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/StopState.h:3:
[32.370s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/StopState.h:6:7: note: previous definition of ‘class StopState’
[32.370s]     6 | class StopState : public State<APMROS2Drone> {
[32.370s]       |       ^~~~~~~~~
[32.370s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/StopState.cpp:4:37: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.370s]     4 | void StopState::executeImpl() const override {
[32.371s]       |                                     ^~~~~~~~
[32.375s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:244: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/StopState.cpp.o] Error 1
[32.412s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DolandState.cpp:1:
[32.412s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:6:7: error: redefinition of ‘class SurroundSeeState’
[32.413s]     6 | class SurroundSeeState : public State<APMROS2Drone> {
[32.413s]       |       ^~~~~~~~~~~~~~~~
[32.413s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:11,
[32.413s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[32.413s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:3:
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/SurroundSeeState.h:6:7: note: previous definition of ‘class SurroundSeeState’
[32.413s]     6 | class SurroundSeeState : public State<APMROS2Drone> {
[32.413s]       |       ^~~~~~~~~~~~~~~~
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DolandState.cpp:4:39: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.413s]     4 | void DolandState::executeImpl() const override {
[32.413s]       |                                       ^~~~~~~~
[32.413s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DolandState.cpp:45:42:   required from here
[32.413s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[32.413s]   236 |             auto previousState = getState(previous_state_name_);
[32.414s]       |                  ^~~~~~~~~~~~~
[32.414s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:2:
[32.414s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[32.414s]   137 |         State(const State&) = delete;
[32.414s]       |         ^~~~~
[32.417s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:146: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/DolandState.cpp.o] Error 1
[32.432s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp:1:
[32.432s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.h:6:7: error: redefinition of ‘class TerminalControlState’
[32.432s]     6 | class TerminalControlState : public State<APMROS2Drone> {
[32.432s]       |       ^~~~~~~~~~~~~~~~~~~~
[32.432s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:13,
[32.432s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[32.432s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.h:3:
[32.433s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/TerminalControlState.h:6:7: note: previous definition of ‘class TerminalControlState’
[32.433s]     6 | class TerminalControlState : public State<APMROS2Drone> {
[32.433s]       |       ^~~~~~~~~~~~~~~~~~~~
[32.433s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp:4:48: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.433s]     4 | void TerminalControlState::executeImpl() const override {
[32.433s]       |                                                ^~~~~~~~
[32.433s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp: In member function ‘virtual void TerminalControlState::executeImpl() const’:
[32.433s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp:11:9: error: ‘key’ was not declared in this scope
[32.433s]    11 |         key = _getch(); // 获取按键输入
[32.433s]       |         ^~~
[32.433s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp:22:17: error: ‘stateMachine’ was not declared in this scope; did you mean ‘StateMachine’?
[32.434s]    22 |                 stateMachine.transitionTo(EndState::getInstance()); // 切换到结束状态
[32.434s]       |                 ^~~~~~~~~~~~
[32.434s]       |                 StateMachine
[32.434s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp:38:38: error: no matching function for call to ‘StateMachine<APMROS2Drone>::transitionTo(const State<APMROS2Drone>* const&)’
[32.434s]    38 |             stateMachine.transitionTo(it->second);
[32.434s]       |             ~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~
[32.434s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[32.434s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:242:10: note: candidate: ‘void StateMachine<T>::transitionTo(const std::string&) [with T = APMROS2Drone; std::string = std::__cxx11::basic_string<char>]’
[32.434s]   242 |     void transitionTo(const std::string& stateName) {
[32.434s]       |          ^~~~~~~~~~~~
[32.434s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:242:42: note:   no known conversion for argument 1 from ‘const State<APMROS2Drone>* const’ to ‘const std::string&’ {aka ‘const std::__cxx11::basic_string<char>&’}
[32.434s]   242 |     void transitionTo(const std::string& stateName) {
[32.435s]       |                       ~~~~~~~~~~~~~~~~~~~^~~~~~~~~
[32.435s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:247:10: note: candidate: ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[32.435s]   247 |     void transitionTo(const State<T>& state) {
[32.435s]       |          ^~~~~~~~~~~~
[32.435s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:247:39: note:   no known conversion for argument 1 from ‘const State<APMROS2Drone>* const’ to ‘const State<APMROS2Drone>&’
[32.435s]   247 |     void transitionTo(const State<T>& state) {
[32.435s]       |                       ~~~~~~~~~~~~~~~~^~~~~
[32.436s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:286: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/TerminalControlState.cpp.o] Error 1
[32.467s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/states.h:8,
[32.467s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:2:
[32.467s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.h:7:11: error: redefinition of ‘class InitState’
[32.467s]     7 |     class InitState : public State<APMROS2Drone> {
[32.467s]       |           ^~~~~~~~~
[32.467s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:1:
[32.467s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.h:7:11: note: previous definition of ‘class InitState’
[32.467s]     7 |     class InitState : public State<APMROS2Drone> {
[32.467s]       |           ^~~~~~~~~
[32.467s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:4:37: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.467s]     4 | void InitState::executeImpl() const override {
[32.468s]       |                                     ^~~~~~~~
[32.468s] In file included from /opt/ros/jazzy/include/rclcpp/rclcpp/copy_all_parameter_values.hpp:27,
[32.468s]                  from /opt/ros/jazzy/include/rclcpp/rclcpp/rclcpp.hpp:171,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:8,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.h:2:
[32.468s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp: In member function ‘virtual void InitState::executeImpl() const’:
[32.468s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:10:9: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.468s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[32.468s]       |         ^~~~~~~~~~~~~~~~
[32.468s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/YOLODetector.h:22,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/AppochTargetTask.h:8,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/tasks.h:4,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/tasks.h:5,
[32.468s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:16:
[32.468s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.468s]   122 |         rclcpp::Node::SharedPtr node;
[32.468s]       |                                 ^~~~
[32.468s] In file included from /opt/ros/jazzy/include/rclcpp/rclcpp/logging.hpp:24:
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:10:34: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.469s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[32.469s]       |                                  ^~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.469s]   122 |         rclcpp::Node::SharedPtr node;
[32.469s]       |                                 ^~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:10:34: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.469s]    10 |         RCLCPP_INFO_ONCE(owner_->node->get_logger(), "初始化完成");
[32.469s]       |                                  ^~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.469s]   122 |         rclcpp::Node::SharedPtr node;
[32.469s]       |                                 ^~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:12:13: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.469s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[32.469s]       |             ^~~~~~~~~~~~~~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.469s]   122 |         rclcpp::Node::SharedPtr node;
[32.469s]       |                                 ^~~~
[32.469s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:12:38: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.470s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[32.470s]       |                                      ^~~~
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.470s]   122 |         rclcpp::Node::SharedPtr node;
[32.470s]       |                                 ^~~~
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:12:38: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.470s]    12 |             RCLCPP_INFO_ONCE(owner_->node->get_logger(), "测试模式下, 不进行起飞");
[32.470s]       |                                      ^~~~
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.470s]   122 |         rclcpp::Node::SharedPtr node;
[32.470s]       |                                 ^~~~
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h: In instantiation of ‘void State<T>::transition_to(const State<T>&) const [with T = APMROS2Drone]’:
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/InitState.cpp:13:26:   required from here
[32.470s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:113:37: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.470s]   113 |                 RCLCPP_INFO(owner_->node->get_logger(), "状态转换: %s -> %s",
[32.471s]       |                             ~~~~~~~~^~~~
[32.471s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.471s]   122 |         rclcpp::Node::SharedPtr node;
[32.471s]       |                                 ^~~~
[32.471s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:113:37: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.471s]   113 |                 RCLCPP_INFO(owner_->node->get_logger(), "状态转换: %s -> %s",
[32.471s]       |                             ~~~~~~~~^~~~
[32.471s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.471s]   122 |         rclcpp::Node::SharedPtr node;
[32.471s]       |                                 ^~~~
[32.471s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:113:37: error: ‘rclcpp::Node::SharedPtr ROS2Drone::node’ is protected within this context
[32.472s]   113 |                 RCLCPP_INFO(owner_->node->get_logger(), "状态转换: %s -> %s",
[32.472s]       |                             ~~~~~~~~^~~~
[32.472s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/../task/../APMROS2drone/task/../../module/../ROS2drone/ROS2Drone.h:122:33: note: declared protected here
[32.472s]   122 |         rclcpp::Node::SharedPtr node;
[32.472s]       |                                 ^~~~
[32.472s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:216: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/InitState.cpp.o] Error 1
[32.654s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:1:
[32.654s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:5:7: error: redefinition of ‘class DoshotState’
[32.654s]     5 | class DoshotState : public State<APMROS2Drone> {
[32.654s]       |       ^~~~~~~~~~~
[32.654s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:4,
[32.654s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[32.654s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:3:
[32.654s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/DoshotState.h:5:7: note: previous definition of ‘class DoshotState’
[32.654s]     5 | class DoshotState : public State<APMROS2Drone> {
[32.654s]       |       ^~~~~~~~~~~
[32.654s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:4:39: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.654s]     4 | void DoshotState::executeImpl() const override {
[32.654s]       |                                       ^~~~~~~~
[32.654s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp: In member function ‘virtual void DoshotState::executeImpl() const’:
[32.654s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:41:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.654s]    41 |             case owner_->DoshotState::doshot_init: // 初始化投弹状态
[32.654s]       |                        ^~
[32.655s] In file included from /usr/include/c++/13/bits/shared_ptr.h:53,
[32.655s]                  from /usr/include/c++/13/memory:80,
[32.655s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:2,
[32.655s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.h:2:
[32.655s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.655s]  1354 |       operator->() const noexcept
[32.655s]       |       ^~~~~~~~
[32.655s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:41:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.655s]    41 |             case owner_->DoshotState::doshot_init: // 初始化投弹状态
[32.655s]       |                        ^~
[32.655s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.655s]  1354 |       operator->() const noexcept
[32.655s]       |       ^~~~~~~~
[32.655s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:86:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.655s]    86 |             case owner_->DoshotState::doshot_shot: // 投弹
[32.655s]       |                        ^~
[32.655s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.655s]  1354 |       operator->() const noexcept
[32.655s]       |       ^~~~~~~~
[32.655s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:86:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.656s]    86 |             case owner_->DoshotState::doshot_shot: // 投弹
[32.656s]       |                        ^~
[32.656s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.656s]  1354 |       operator->() const noexcept
[32.656s]       |       ^~~~~~~~
[32.656s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:99:52: error: ‘std::shared_ptr<CameraGimbal> APMROS2Drone::_camera_gimbal’ is private within this context
[32.656s]    99 |                     auto shot_center_opt = owner_->_camera_gimbal->worldToPixel(world_point);
[32.656s]       |                                                    ^~~~~~~~~~~~~~
[32.656s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:361:39: note: declared private here
[32.656s]   361 |         std::shared_ptr<CameraGimbal> _camera_gimbal;
[32.656s]       |                                       ^~~~~~~~~~~~~~
[32.656s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:104:50: error: ‘std::shared_ptr<CameraGimbal> APMROS2Drone::_camera_gimbal’ is private within this context
[32.656s]   104 |                         temp_target.fx = owner_->_camera_gimbal->fx;
[32.656s]       |                                                  ^~~~~~~~~~~~~~
[32.656s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:361:39: note: declared private here
[32.656s]   361 |         std::shared_ptr<CameraGimbal> _camera_gimbal;
[32.656s]       |                                       ^~~~~~~~~~~~~~
[32.656s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:107:58: error: ‘std::shared_ptr<CameraGimbal> APMROS2Drone::_camera_gimbal’ is private within this context
[32.657s]   107 |                         temp_target.relative_z = owner_->_camera_gimbal->get_position().z() - world_point.z(); // 设置目标的高度为相机高度
[32.657s]       |                                                          ^~~~~~~~~~~~~~
[32.657s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:361:39: note: declared private here
[32.657s]   361 |         std::shared_ptr<CameraGimbal> _camera_gimbal;
[32.657s]       |                                       ^~~~~~~~~~~~~~
[32.657s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:153:29: error: ‘std::shared_ptr<ServoController> APMROS2Drone::_servo_controller’ is private within this context
[32.657s]   153 |                     owner_->_servo_controller->set_servo(10 + shot_counter, owner_->servo_open_position);
[32.657s]       |                             ^~~~~~~~~~~~~~~~~
[32.657s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:357:42: note: declared private here
[32.657s]   357 |         std::shared_ptr<ServoController> _servo_controller;
[32.657s]       |                                          ^~~~~~~~~~~~~~~~~
[32.657s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:183:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.657s]   183 |             case owner_->DoshotState::doshot_wait: // 等待再次投弹
[32.657s]       |                        ^~
[32.657s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.657s]  1354 |       operator->() const noexcept
[32.657s]       |       ^~~~~~~~
[32.657s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:183:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.657s]   183 |             case owner_->DoshotState::doshot_wait: // 等待再次投弹
[32.658s]       |                        ^~
[32.658s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.658s]  1354 |       operator->() const noexcept
[32.658s]       |       ^~~~~~~~
[32.658s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:217:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.658s]   217 |             case owner_->DoshotState::doshot_end: // 侦查投弹区
[32.658s]       |                        ^~
[32.658s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.658s]  1354 |       operator->() const noexcept
[32.658s]       |       ^~~~~~~~
[32.658s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:217:24: error: call to non-‘constexpr’ function ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’
[32.658s]   217 |             case owner_->DoshotState::doshot_end: // 侦查投弹区
[32.658s]       |                        ^~
[32.658s] /usr/include/c++/13/bits/shared_ptr_base.h:1354:7: note: ‘std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::element_type* std::__shared_ptr_access<_Tp, _Lp, <anonymous>, <anonymous> >::operator->() const [with _Tp = APMROS2Drone; __gnu_cxx::_Lock_policy _Lp = __gnu_cxx::_S_atomic; bool <anonymous> = false; bool <anonymous> = false; element_type = APMROS2Drone]’ declared here
[32.658s]  1354 |       operator->() const noexcept
[32.659s]       |       ^~~~~~~~
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:222:33: error: ‘std::shared_ptr<ServoController> APMROS2Drone::_servo_controller’ is private within this context
[32.659s]   222 |                         owner_->_servo_controller->set_servo(11, ServoController::servo_open_position);                 // owner_->_servo_controller->set_servo(11, owner_->servo_close_position);
[32.659s]       |                                 ^~~~~~~~~~~~~~~~~
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:357:42: note: declared private here
[32.659s]   357 |         std::shared_ptr<ServoController> _servo_controller;
[32.659s]       |                                          ^~~~~~~~~~~~~~~~~
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:222:83: error: ‘float ServoController::servo_open_position’ is private within this context
[32.659s]   222 |                         owner_->_servo_controller->set_servo(11, ServoController::servo_open_position);                 // owner_->_servo_controller->set_servo(11, owner_->servo_close_position);
[32.659s]       |                                                                                   ^~~~~~~~~~~~~~~~~~~
[32.659s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:20:
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../module/ServoController.h:102:11: note: declared private here
[32.659s]   102 |     float servo_open_position;
[32.659s]       |           ^~~~~~~~~~~~~~~~~~~
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:222:83: error: invalid use of non-static data member ‘ServoController::servo_open_position’
[32.659s]   222 |                         owner_->_servo_controller->set_servo(11, ServoController::servo_open_position);                 // owner_->_servo_controller->set_servo(11, owner_->servo_close_position);
[32.659s]       |                                                                                   ^~~~~~~~~~~~~~~~~~~
[32.659s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../module/ServoController.h:102:11: note: declared here
[32.659s]   102 |     float servo_open_position;
[32.659s]       |           ^~~~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:223:33: error: ‘std::shared_ptr<ServoController> APMROS2Drone::_servo_controller’ is private within this context
[32.660s]   223 |                         owner_->_servo_controller->set_servo(12, ServoController::servo_open_position);                         // owner_->_servo_controller->set_servo(12, owner_->servo_close_position);
[32.660s]       |                                 ^~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:357:42: note: declared private here
[32.660s]   357 |         std::shared_ptr<ServoController> _servo_controller;
[32.660s]       |                                          ^~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:223:83: error: ‘float ServoController::servo_open_position’ is private within this context
[32.660s]   223 |                         owner_->_servo_controller->set_servo(12, ServoController::servo_open_position);                         // owner_->_servo_controller->set_servo(12, owner_->servo_close_position);
[32.660s]       |                                                                                   ^~~~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../module/ServoController.h:102:11: note: declared private here
[32.660s]   102 |     float servo_open_position;
[32.660s]       |           ^~~~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:223:83: error: invalid use of non-static data member ‘ServoController::servo_open_position’
[32.660s]   223 |                         owner_->_servo_controller->set_servo(12, ServoController::servo_open_position);                         // owner_->_servo_controller->set_servo(12, owner_->servo_close_position);
[32.660s]       |                                                                                   ^~~~~~~~~~~~~~~~~~~
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../module/ServoController.h:102:11: note: declared here
[32.660s]   102 |     float servo_open_position;
[32.660s]       |           ^~~~~~~~~~~~~~~~~~~
[32.660s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[32.660s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[32.661s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[32.661s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DoshotState.cpp:229:42:   required from here
[32.661s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[32.661s]   236 |             auto previousState = getState(previous_state_name_);
[32.661s]       |                  ^~~~~~~~~~~~~
[32.661s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[32.661s]   137 |         State(const State&) = delete;
[32.661s]       |         ^~~~~
[32.661s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:160: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/DoshotState.cpp.o] Error 1
[32.678s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.cpp:1:
[32.678s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:6:7: error: redefinition of ‘class SurroundSeeState’
[32.678s]     6 | class SurroundSeeState : public State<APMROS2Drone> {
[32.678s]       |       ^~~~~~~~~~~~~~~~
[32.678s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:11,
[32.678s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[32.678s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:3:
[32.678s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/SurroundSeeState.h:6:7: note: previous definition of ‘class SurroundSeeState’
[32.678s]     6 | class SurroundSeeState : public State<APMROS2Drone> {
[32.678s]       |       ^~~~~~~~~~~~~~~~
[32.678s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.cpp:4:44: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[32.679s]     4 | void SurroundSeeState::executeImpl() const override {
[32.679s]       |                                            ^~~~~~~~
[32.679s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[32.679s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[32.679s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[32.679s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.cpp:19:38:   required from here
[32.679s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[32.679s]   236 |             auto previousState = getState(previous_state_name_);
[32.679s]       |                  ^~~~~~~~~~~~~
[32.679s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/SurroundSeeState.h:2:
[32.679s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[32.679s]   137 |         State(const State&) = delete;
[32.679s]       |         ^~~~~
[32.682s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:258: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/SurroundSeeState.cpp.o] Error 1
[32.853s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.cpp: In member function ‘virtual void APMROS2Drone::timer_callback()’:
[32.854s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.cpp:167:58: error: ‘getInstance’ is not a member of ‘APMROS2Drone::DoshotState’
[32.854s]   167 |         state_machine_.getCurrentState() == DoshotState::getInstance() ||
[32.854s]       |                                                          ^~~~~~~~~~~
[32.854s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.h:19,
[32.854s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.cpp:1:
[32.854s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[32.854s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/../stateMachine/StateMachine.h:244:9:   required from ‘void StateMachine<T>::transitionTo(const std::string&) [with T = APMROS2Drone; std::string = std::__cxx11::basic_string<char>]’
[32.854s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.cpp:224:30:   required from here
[32.854s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[32.854s]   236 |             auto previousState = getState(previous_state_name_);
[32.854s]       |                  ^~~~~~~~~~~~~
[32.854s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/DolandState.h:2,
[32.854s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/states.h:3,
[32.854s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/APMROS2Drone.h:18:
[32.855s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[32.855s]   137 |         State(const State&) = delete;
[32.855s]       |         ^~~~~
[32.857s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:76: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/APMROS2Drone.cpp.o] Error 1
[34.033s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp:1:
[34.033s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.h:6:7: error: redefinition of ‘class ReflushConfigState’
[34.033s]     6 | class ReflushConfigState : public State<APMROS2Drone> {
[34.033s]       |       ^~~~~~~~~~~~~~~~~~
[34.033s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:9,
[34.033s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[34.033s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.h:3:
[34.033s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/ReflushConfigState.h:6:7: note: previous definition of ‘class ReflushConfigState’
[34.034s]     6 | class ReflushConfigState : public State<APMROS2Drone> {
[34.034s]       |       ^~~~~~~~~~~~~~~~~~
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp:4:46: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[34.034s]     4 | void ReflushConfigState::executeImpl() const override {
[34.034s]       |                                              ^~~~~~~~
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp: In member function ‘virtual void ReflushConfigState::executeImpl() const’:
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp:11:29: error: ‘void APMROS2Drone::read_configs(const std::string&)’ is private within this context
[34.034s]    11 |         owner_->read_configs("OffboardControl.yaml");
[34.034s]       |         ~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:363:14: note: declared private here
[34.034s]   363 |         void read_configs(const std::string &filename)
[34.034s]       |              ^~~~~~~~~~~~
[34.034s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[34.034s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp:32:38:   required from here
[34.035s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[34.035s]   236 |             auto previousState = getState(previous_state_name_);
[34.035s]       |                  ^~~~~~~~~~~~~
[34.035s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/ReflushConfigState.h:2:
[34.035s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[34.035s]   137 |         State(const State&) = delete;
[34.035s]       |         ^~~~~
[34.036s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:230: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/ReflushConfigState.cpp.o] Error 1
[37.912s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.cpp:1:
[37.912s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.h:5:7: error: redefinition of ‘class GotoShotPointState’
[37.912s]     5 | class GotoShotPointState : public State<APMROS2Drone> {
[37.912s]       |       ^~~~~~~~~~~~~~~~~~
[37.912s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:7,
[37.912s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[37.912s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.h:3:
[37.912s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/GotoShotPointState.h:5:7: note: previous definition of ‘class GotoShotPointState’
[37.912s]     5 | class GotoShotPointState : public State<APMROS2Drone> {
[37.912s]       |       ^~~~~~~~~~~~~~~~~~
[37.912s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.cpp:4:46: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[37.912s]     4 | void GotoShotPointState::executeImpl() const override {
[37.913s]       |                                              ^~~~~~~~
[37.913s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:19:
[37.913s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h: In instantiation of ‘void StateMachine<T>::setCurrentState(const State<T>&) [with T = APMROS2Drone]’:
[37.913s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:249:9:   required from ‘void StateMachine<T>::transitionTo(const State<T>&) [with T = APMROS2Drone]’
[37.913s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.cpp:16:38:   required from here
[37.913s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/StateMachine.h:236:18: error: use of deleted function ‘State<T>::State(const State<T>&) [with T = APMROS2Drone]’
[37.913s]   236 |             auto previousState = getState(previous_state_name_);
[37.913s]       |                  ^~~~~~~~~~~~~
[37.913s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/GotoShotPointState.h:2:
[37.913s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../../stateMachine/State.h:137:9: note: declared here
[37.913s]   137 |         State(const State&) = delete;
[37.913s]       |         ^~~~~
[37.916s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:202: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/GotoShotPointState.cpp.o] Error 1
[38.723s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/EndState.cpp:1:
[38.723s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/EndState.h:6:7: error: redefinition of ‘class EndState’
[38.723s]     6 | class EndState : public State<APMROS2Drone> {
[38.723s]       |       ^~~~~~~~
[38.723s] In file included from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/states.h:5,
[38.723s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../APMROS2Drone.h:18,
[38.723s]                  from /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/EndState.h:3:
[38.723s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/../state/EndState.h:6:7: note: previous definition of ‘class EndState’
[38.723s]     6 | class EndState : public State<APMROS2Drone> {
[38.723s]       |       ^~~~~~~~
[38.723s] /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/src/offboard_control/APMROS2drone/state/EndState.cpp:4:36: error: virt-specifiers in ‘executeImpl’ not allowed outside a class definition
[38.723s]     4 | void EndState::executeImpl() const override {
[38.723s]       |                                    ^~~~~~~~
[38.736s] gmake[2]: *** [CMakeFiles/offboard_control.dir/build.make:174: CMakeFiles/offboard_control.dir/src/offboard_control/APMROS2drone/state/EndState.cpp.o] Error 1
[38.748s] gmake[1]: *** [CMakeFiles/Makefile2:213: CMakeFiles/offboard_control.dir/all] Error 2
[38.750s] gmake: *** [Makefile:146: all] Error 2
[38.807s] Invoked command in '/home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/build/px4_ros_com' returned '2': CMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH}:/opt/ros/jazzy CONDA_PROMPT_MODIFIER=(base) DEBUGINFOD_URLS=https://debuginfod.ubuntu.com /usr/bin/cmake --build /home/linhao/code/ros2/dxy_apm_ws/src/px4_ros_com/build/px4_ros_com -- -j32 -l32
